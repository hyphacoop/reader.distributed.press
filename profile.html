<!DOCTYPE html>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>User Profile</title>
<style>
  @import url("./actor-profile.css");
  @import url("./index.css");
  @import url("./theme.css");
  @import url("./timeline.css");
  @import url("./outbox.css");
  @import url("./post.css");
</style>
<div class="container">
  <div class="sidebar">
    <h1 class="header-branding">Social Reader</h1>
    <div class="controls">
      <a href="./followed-accounts.html"
        >Following Â· <followed-count></followed-count
      ></a>
    </div>
    <nav>
      <theme-selector></theme-selector>
      <a href="./index.html">Home</a>
      <a href="https://hypha.coop/dripline/announcing-dp-social-inbox/"
        >Social Inbox</a
      >
      <a href="https://distributed.press">Distributed Press</a>
    </nav>
  </div>
  <div class="actor-profile">
    <actor-profile></actor-profile>
    <distributed-outbox></distributed-outbox>
    <div class="pagination-controls">
      <button id="prevPage">< Prev</button>
      <button id="nextPage">Next ></button>
    </div>
  </div>
</div>
<script>
  // Pagination controls
  document.addEventListener("outboxUpdated", () => {
    const outboxElement = document.querySelector("distributed-outbox");
    const prevButton = document.getElementById("prevPage");
    const nextButton = document.getElementById("nextPage");

    if (prevButton) {
      prevButton.addEventListener("click", () => outboxElement.prevPage());
    }
    if (nextButton) {
      nextButton.addEventListener("click", () => outboxElement.nextPage());
    }
  });

  // Get actor url
  const params = new URLSearchParams(window.location.search);
  const actorUrl = params.get("actor");

  if (actorUrl) {
    const actorProfile = document.querySelector("actor-profile");
    actorProfile.setAttribute("url", actorUrl);
  } else {
    console.error("Actor URL not specified in the query string.");
  }
</script>
<script type="module" src="./actor-profile.js"></script>
<script type="module" src="./post.js"></script>
<script type="module" src="./outbox.js"></script>
<script type="module" src="./followed-accounts.js"></script>
<script type="module" src="./theme-selector.js"></script>
